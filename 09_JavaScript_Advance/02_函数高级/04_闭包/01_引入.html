<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>01_引入</title>
</head>
<body>
    <button>测试1</button>
    <button>测试2</button>
    <button>测试3</button>

    <!--
        需求：点击某个按钮，提示"点击的是第n个按钮"
    -->
    <script type="text/javascript">
        let btns = document.getElementsByTagName('button')

        // 遍历加监听，var i 是全局变量
        /*
        for (var i = 0, length = btns.length; i < length; i++) {
            var btn = btns[i]
            btn.onclick = function () {
                alert('你点击的是第' + (i + 1) + '个按钮')
            }
        }
        */

        /*
        for (var i = 0, length = btns.length; i < length; i++) {
            var btn = btns[i]
            // 将btn所对应的下标保存在btn上
            btn.index = i
            btn.onclick = function () {
                alert('你点击的是第' + (this.index + 1) + '个按钮')
            }
        }
        */

        // 利用闭包实现遍历加监听
        for (var i = 0, length = btns.length; i < length; i++) {
            (function (index) {
                var btn = btns[index]
                btn.onclick = function () {
                    alert('你点击的是第' + (index + 1) + '个按钮')
                }
            })(i)
        }

    </script>
</body>
</html>