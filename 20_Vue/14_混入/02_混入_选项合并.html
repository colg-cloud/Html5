<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>02_混入_选项合并</title>
</head>
<body>
    <!--
        选项合并
            当组件和混入对象含有同名选项时，这些选项将以恰当的方式混合。
            同名钩子函数将混合为一个数组，因此都将被调用。另外，混入对象的钩子将在组件自身钩子之前调用。
    -->
    <div id="demo">
        <p>{{message}}</p>
        <p>{{bar}}</p>
        <p>{{foo}}</p>
    </div>

    <script src="../../00_libs/vue-2.5.2/vue.js"></script>
    <script>

        /**
         * 定义混入对象
         * @type {{data(): *, created(): void}}
         */
        let mixin = {
            data() {
                return {
                    message: 'mixin - hello',
                    foo: 'mixin - abc'
                }
            },
            created() {
                console.log('混入对象的钩子被调用')
            }
        }

        new Vue({
            mixins: [mixin],
            el: '#demo',
            data() {
                return {
                    message: 'goodbye',
                    bar: 'def'
                }
            },
            created() {
                console.log(this.$data) // => { message: "goodbye", foo: "mixin - abc", bar: "def" }
                console.log('组件钩子被调用')
            }
        })
    </script>
</body>
</html>